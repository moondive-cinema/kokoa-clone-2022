(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1298:function(e,t,n){"use strict";var a=n(44),o=n.n(a),i=n(25),r=n.n(i),l=n(5),c=n(173),d=l.f.div.withConfig({displayName:"Iconstyled__Icon",componentId:"sc-7igckt-0"})(["width:",";height:",";display:flex;align-items:center;justify-content:center;cursor:pointer;visibility:",";&::before{content:'';display:block;width:","px;height:","px;background-image:url(",");background-size:cover;opacity:",";}&:hover{&::before{opacity:1;}}"],(function(e){return r()(e.width)?"auto":"".concat(e.width,"px")}),(function(e){return r()(e.height)?"auto":"".concat(e.height,"px")}),(function(e){return e.hidden?"hidden":"visible"}),(function(e){return o()(e.size)?e.size[0]:e.size}),(function(e){return o()(e.size)?e.size[1]:e.size}),(function(e){return Object(c.b)(e.name+(e.withTheme?"-".concat(e.theme.textColor):""))}),(function(e){return e.defaultOpacity||.6}));t.a=d},1312:function(e,t,n){"use strict";var a=n(0);t.a=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e}),[e]),t.current}},1314:function(e,t,n){"use strict";var a=n(67),o=n.n(a),i=n(32),r=n.n(i),l=n(0),c=n.n(l),d=n(472),s=n(212),p=n(5),u=n(84),m=p.f.div.withConfig({displayName:"ConfirmModalstyled__ModalBody",componentId:"sc-25vbni-0"})(["width:300px;padding:16px;"]),f=p.f.div.withConfig({displayName:"ConfirmModalstyled__ModalBodyTitle",componentId:"sc-25vbni-1"})(["margin-top:4px;font-weight:bold;color:",";text-align:center;",";"],(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),u.d.RemSize16),g=p.f.div.withConfig({displayName:"ConfirmModalstyled__ModalBodyContent",componentId:"sc-25vbni-2"})(["margin-top:8px;color:",";text-align:center;word-break:keep-all;overflow-wrap:break-word;white-space:pre-wrap;",";"],(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),u.d.RemSize15),h=p.f.div.withConfig({displayName:"ConfirmModalstyled__ModalFooter",componentId:"sc-25vbni-3"})(["display:flex;align-items:center;justify-content:center;margin-top:20px;"]),b=p.f.button.withConfig({displayName:"ConfirmModalstyled__Button",componentId:"sc-25vbni-4"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;width:130px;height:44px;font-weight:bold;cursor:pointer;border:none;border-radius:12px;",";"],u.d.RemSize16),y=Object(p.f)(b).withConfig({displayName:"ConfirmModalstyled__SecondaryButton",componentId:"sc-25vbni-5"})(["margin-right:8px;color:",";cursor:pointer;background-color:",";&:hover{background-color:",";}"],(function(e){return e.theme.foundationTheme["txt-black-darkest"]}),(function(e){return e.theme.foundationTheme["bg-black-lighter"]}),(function(e){return e.theme.foundationTheme["bg-black-light"]})),x=Object(p.f)(b).withConfig({displayName:"ConfirmModalstyled__PrimaryButton",componentId:"sc-25vbni-6"})(["color:",";background-color:",";&:hover{background-color:",";}"],(function(e){return e.theme.foundationTheme["bgtxt-absolute-white-dark"]}),(function(e){var t,n=e.theme,a=e.normal;return null===(t=n.foundationTheme)||void 0===t?void 0:t[a]}),(function(e){var t,n=e.theme,a=e.hover;return null===(t=n.foundationTheme)||void 0===t?void 0:t[a]})),C=Object(p.g)(["from{transform:translate(0,-25px);}to{transform:translate(0,0);}"]),v=Object(p.e)(["animation:"," 0.25s linear;"],C);t.a=function(e){var t=e.show,n=e.title,a=e.description,i=e.primaryButton,l=e.secondaryButton,p=e.onHide,u=void 0===p?r.a:p,b=Object(s.a)().translate,C="warning"===(null==i?void 0:i.type)?{normal:"bgtxt-red-normal",hover:"bgtxt-red-dark"}:{normal:"bgtxt-blue-normal",hover:"bgtxt-blue-dark"};return c.a.createElement(d.a,{show:t,contentInterpolation:v,onHide:u},c.a.createElement(m,null,c.a.createElement(f,null,n),c.a.createElement(g,null,a),c.a.createElement(h,null,c.a.createElement(y,{onClick:null==l?void 0:l.onClick},(null==l?void 0:l.content)||b("ch.common.cancel")),c.a.createElement(x,o()({},C,{onClick:null==i?void 0:i.onClick,autoFocus:!0}),(null==i?void 0:i.content)||b("ch.button_confirm")))))}},1323:function(e,t,n){"use strict";var a=n(5).f.div.withConfig({displayName:"Footerstyled__Footer",componentId:"vr8tau-0"})(["display:flex;justify-content:center;padding-top:12px;padding-bottom:14px;"]);t.a=a},1328:function(e,t,n){"use strict";var a=n(41),o=n.n(a),i=n(0),r=n.n(i),l=n(301),c=n(212),d=n(60),s=n(477),p=n(1314),u=n(5),m=n(84),f=n(46),g={Wrapper:u.f.div.withConfig({displayName:"UserChatActionsstyled__Wrapper",componentId:"sc-1cp4fk1-0"})(["box-sizing:border-box;width:210px;padding:6px;"," background-color:",";border-radius:12px;box-shadow:",";transform:translateX(10px) translateY(10px);"],m.d.RemSize14,f.a.white,f.a.ev3),Item:u.f.div.withConfig({displayName:"UserChatActionsstyled__Item",componentId:"sc-1cp4fk1-1"})(["display:flex;align-items:center;padding:5px 6px;color:",";cursor:pointer;border-radius:6px;&:hover{background-color:",";}"],f.a.black85,f.a.black5)};var h=function(e){var t=e.target,n=e.show,a=e.onHide,u=e.onLeave,m=Object(c.a)().translate,f=Object(l.a)(),h=o()(f,3),b=h[0],y=h[1],x=h[2],C=Object(i.useCallback)((function(){u(),x()}),[x,u]),v=Object(i.useCallback)((function(){a(),x()}),[x,a]),w=Object(i.useMemo)((function(){return r.a.createElement(p.a,{show:b,onHide:x,title:m("ch.chat.menu.leave_chat"),description:m("ch.chat.menu.leave_chat.content"),primaryButton:{content:m("ch.chat.menu.leave"),onClick:C},secondaryButton:{content:m("ch.chat.menu.delete_message.cancel"),onClick:v}})}),[v,C,x,b,m]),_=Object(i.useCallback)((function(e){e.stopPropagation()}),[]),k=Object(i.useCallback)((function(e){e.stopPropagation(),a()}),[a]);Object(i.useEffect)((function(){return b&&document.body.classList.add("blockScroll"),function(){document.body.classList.remove("blockScroll")}}),[b]);var I=Object(i.useCallback)((function(){a(),y()}),[a,y]),O=Object(i.useCallback)((function(){a(),x()}),[a,x]);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(s.a,{target:t,placement:d.a.BOTTOM_RIGHT,onHide:O,rootClose:!0,marginX:10},r.a.createElement(g.Wrapper,{onClick:_},r.a.createElement(g.Item,{onClick:I},m("ch.chat.menu.leave_chat")),r.a.createElement(g.Item,{onClick:k},m("ch.chat.menu.delete_message.cancel")))),w)};t.a=function(e){var t=e.target,n=e.onLeave,a=Object(l.a)(!1),c=o()(a,3),d=c[0],s=c[1],p=c[2],u=Object(i.useMemo)((function(){return r.a.createElement(h,{target:t,show:d,onHide:p,onLeave:n})}),[t,d,p,n]);return[d,s,p,u]}},1329:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(212),r=n(6),l=n.n(r),c=n(5),d=n(135),s=n(181),p=n(46),u=n(84);var m={Button:c.f.div.withConfig({displayName:"NewChatButtonstyled__Button",componentId:"sc-1nuv8bj-0"})(["display:flex;justify-content:center;width:100%;padding:14px;"," font-weight:bold;color:",";cursor:pointer;background:",";border-radius:17px;box-shadow:",";opacity:1;transition:box-shadow 0.2s ease-out;&:hover{",";}"],u.d.RemSize15,(function(e){return function(e,t,n){return t?p.a.txt_black_dark:e?p.a.txt_black_darkest:n}(e.secondary,e.disabled,e.theme.textColor)}),(function(e){return function(e,t,n){var a;if(e||t)return p.a.bg_black_lighter;var o=Object(d.c)(n.color);return n.color!==o?o:n.color===n.gradientColor?n.color:l()(a="linear-gradient(90deg, ".concat(n.color," 48.41%, ")).call(a,n.gradientColor,") 100%")}(e.secondary,e.disabled,e.theme)}),(function(e){var t=e.secondary,n=e.disabled;return t||n?"none":p.a.ev2}),(function(e){return function(e,t){return e||t?Object(c.e)(["background-color:",";"],p.a.bg_black_light):Object(c.e)(["box-shadow:",";"],p.a.ev3)}(e.secondary,e.disabled)})),Icon:Object(c.f)(s.b).withConfig({displayName:"NewChatButtonstyled__Icon",componentId:"sc-1nuv8bj-1"})(["display:inline-flex;margin-right:4px;"])};t.a=function(e){var t=e.secondary,n=void 0!==t&&t,r=e.disabled,l=void 0!==r&&r,c=e.onClick,d=e.className,s=Object(i.a)().translate,p=Object(a.useMemo)((function(){var e=l?"hand-wave":"send-filled".concat(n?"-black":"");return o.a.createElement(m.Icon,{name:e,width:20,height:20,size:20,withTheme:!n&&!l,defaultOpacity:1})}),[l,n]),u=Object(a.useMemo)((function(){return s(l?"ch.chat.disabled_chat":"ch.chat.start_new_chat")}),[l,s]);return o.a.createElement(m.Button,{"data-ch-testid":"new-chat-button",className:d,secondary:n,disabled:l,onClick:c},p,u)}},1330:function(e,t,n){"use strict";var a=n(5),o=n(135),i=n(46),r=a.f.div.withConfig({displayName:"Cardstyled__Card",componentId:"sc-1ji31k9-0"})(["width:",";display:inline-flex;flex-direction:column;overflow:hidden;background-color:",";border-radius:",";box-shadow:0 4px 12px 0 ",",0 0 0 1px ",";"],(function(e){return e.width||"100%"}),i.a.white,(function(e){return Object(o.g)(e.borderRadius,"px",10)}),i.a.black8,i.a.black1),l=n(1332),c=n(1323);r.Header=l.a,r.Footer=c.a;t.a=r},1332:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(5),r=n(84),l=n(46),c=i.f.div.withConfig({displayName:"Headerstyled__Header",componentId:"sc-1wyd9jd-0"})(["display:flex;justify-content:space-between;align-items:center;color:",";padding:10px 14px 4px 16px;",""],l.a.grey900,r.d.RemSize12),d={Title:i.f.h1.withConfig({displayName:"Headerstyled__Title",componentId:"sc-1wyd9jd-1"})(["color:",";font-size:inherit;font-weight:600;margin:0;padding:0;"],l.a.grey500),Header:c};t.a=function(e){var t=e.title,n=void 0===t?"":t,a=e.children,i=void 0===a?null:a,r=e.className;return o.a.createElement(d.Header,{className:r},o.a.createElement(d.Title,null,n),i)}},1344:function(e,t,n){"use strict";var a=n(41),o=n.n(a),i=n(12),r=n.n(i),l=n(83),c=n.n(l),d=n(6),s=n.n(d),p=n(0),u=n.n(p),m=n(212),f=n(1294),g=n(1306),h=n(153),b=n(1328),y=n(349),x=n(469),C=n(181),v=n(1298),w=n(5),_=n(37),k=n(65),I=n(46),O=n(84),j=w.f.div.withConfig({displayName:"UserChatItemstyled__Gutter",componentId:"sc-1m3tdpx-0"})(["width:52px;padding:8px 0 0 6px;"]),E=w.f.div.withConfig({displayName:"UserChatItemstyled__Content",componentId:"sc-1m3tdpx-1"})(["flex-basis:0;flex-grow:1;flex-shrink:1;min-width:180px;padding:8px 0 12px;"," color:",";"],O.d.RemSize15,I.a.grey900),N=w.f.div.withConfig({displayName:"UserChatItemstyled__Head",componentId:"sc-1m3tdpx-2"})(["display:flex;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),T=w.f.div.withConfig({displayName:"UserChatItemstyled__Name",componentId:"sc-1m3tdpx-3"})([""," font-weight:bold;"],O.d.RemSize13),M=w.f.div.withConfig({displayName:"UserChatItemstyled__Time",componentId:"sc-1m3tdpx-4"})([""," margin-left:4px;color:",";"],O.d.RemSize11,I.a.txt_black_dark),S=w.f.div.withConfig({displayName:"UserChatItemstyled__Body",componentId:"sc-1m3tdpx-5"})([""," max-height:","rem;margin-right:6px;overflow:hidden;",""],O.d.RemSize15,2*O.a.Lh15,k.o),z=w.f.span.withConfig({displayName:"UserChatItemstyled__DeletedMessageText",componentId:"sc-1m3tdpx-6"})(["color:",";"],I.a.grey500),L=w.f.div.withConfig({displayName:"UserChatItemstyled__Meta",componentId:"sc-1m3tdpx-7"})(["position:relative;display:flex;align-items:center;justify-content:center;"]),W=Object(w.f)(C.b).withConfig({displayName:"UserChatItemstyled__RightIcon",componentId:"sc-1m3tdpx-8"})(["padding-right:8px;padding-left:4px;"]),A=w.f.div.withConfig({displayName:"UserChatItemstyled__UserChatActionsWrapper",componentId:"sc-1m3tdpx-9"})(["position:absolute;top:50%;right:12px;color:",";background:",";border-radius:8px;box-shadow:",";opacity:",";transition:opacity 0.3s;transform:translateY(-50%);",""],I.a.black40,I.a.white,I.a.ev2,(function(e){return e.show?1:0}),_.a.isTouchableDevice()&&Object(w.e)(["display:none;"])),U={Wrapper:w.f.div.withConfig({displayName:"UserChatItemstyled__Wrapper",componentId:"sc-1m3tdpx-10"})(["max-height:76px;display:flex;cursor:pointer;transition:background-color 0.3s ease;margin:0 6px;border-radius:12px;",""],!_.a.isTouchableDevice()&&Object(w.e)(["&:hover{background-color:",";","{visibility:hidden;}","{opacity:1;}}"],(function(e){return e.theme.foundationTheme["bg-black-lightest"]}),W,A)),Gutter:j,Content:E,Head:N,Name:T,Time:M,Body:S,DeletedMessageText:z,Meta:L,RightIcon:W,UserChatActionsWrapper:A};t.a=function(e){var t=e.userChat,n=e.onClick,a=e.onLeave,i=Object(m.a)().translate,l=Object(p.useRef)(null),d=Object(p.useCallback)((function(){a(t.id)}),[a,t.id]),w=Object(b.a)({target:l.current,onLeave:d}),_=o()(w,4),k=_[0],I=_[1],O=_[3],j=Object(p.useCallback)((function(e){e.stopPropagation(),I()}),[I]),E=Object(p.useMemo)((function(){var e,n=t.getLastMessage();if(!n)return null;if(n.isDeletedMessage())return u.a.createElement(U.DeletedMessageText,null,i("ch.message_stream.message.deleted_message"));if(n.hasBlocks()){var a=n.blocks[0];if("code"===a.type)return a.value;if("text"===a.type)return Object(g.a)(a.value);if("bullets"===a.type)return Object(g.a)(r()(a,"blocks[0].value",""))}return n.hasImageFile()?i("ch.notification.upload_image.description"):n.hasFile()?i("ch.notification.upload_file.description"):n.hasButton()?c()(e=n.buttons).call(e,(function(e,t){var n;return s()(n="".concat(e?"".concat(e,", "):"","[")).call(n,t.title,"]")}),""):n.webPage?n.webPage.title:null}),[i,t]),N=Object(f.a)("userChatItem")(t),T=N.avatarUrl,M=N.name,S=t.getSession().getUnread();return u.a.createElement(U.Wrapper,{"data-ch-testid":"user-chat-item",onClick:function(){return n(t)}},u.a.createElement(U.Gutter,null,u.a.createElement(x.a,{size:36,url:T})),u.a.createElement(U.Content,null,u.a.createElement(U.Head,null,u.a.createElement(U.Name,null,M),u.a.createElement(U.Time,null,Object(h.p)(t.frontUpdatedAt))),u.a.createElement(U.Body,{"data-ch-testid":"user-chat-item-body"},E)),u.a.createElement(U.Meta,null,S?u.a.createElement(y.a,{"data-ch-testid":"user-chat-item-badge",hidden:!t.getSession().unread},t.getSession().getUnread()):null,u.a.createElement(U.RightIcon,{name:"chevron-right",size:C.a.Small}),u.a.createElement(U.UserChatActionsWrapper,{show:k},u.a.createElement(v.a,{name:"more",ref:l,width:36,height:32,size:C.a.Normal,onClick:j}),O)))}},1345:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(43),r=n(18),l=n(491),c=n(212),d=n(181),s=n(133),p=n(5),u={ReadAllUserChatWrapper:p.f.div.withConfig({displayName:"ReadAllUserChatstyled__ReadAllUserChatWrapper",componentId:"sc-1j7mxix-0"})(["position:relative;display:flex;cursor:",";&:hover{color:",";>::before{opacity:0.6;}}"],(function(e){return e.isFetching?"auto":"pointer"}),(function(e){return e.theme.foundationTheme["txt-black-darkest"]})),LoaderWrapper:p.f.div.withConfig({displayName:"ReadAllUserChatstyled__LoaderWrapper",componentId:"sc-1j7mxix-1"})(["position:relative;display:flex;margin-right:10px;"])};t.a=function(){var e=Object(i.c)(),t=Object(c.a)().translate,n=Object(i.d)(l.a.getIsFetchingReadAll),p=Object(a.useCallback)((function(){n||e(r.a.userChatActions.requestReadAllUserChat())}),[e,n]),m=Object(a.useMemo)((function(){return n?o.a.createElement(u.LoaderWrapper,null,o.a.createElement(s.b,{size:3,strokeWidth:2})):o.a.createElement(d.b,{name:"check-circle",height:16,width:20,size:d.a.XSmall,defaultOpacity:.4})}),[n]);return o.a.createElement(u.ReadAllUserChatWrapper,{onClick:p,isFetching:n},m,o.a.createElement("div",null,t("ch.lounge.card.chat_list.read_all_count")))}},1465:function(e,t,n){"use strict";n.r(t);var a=n(41),o=n.n(a),i=n(0),r=n.n(i),l=n(27),c=n(300),d=n(474),s=n(62),p=n(212),u=n(5),m=n(181),f=n(46),g=n(84),h=Object(u.f)(m.b).withConfig({displayName:"PoweredBystyled__Icon",componentId:"sc-1emxyx4-0"})(["margin-right:4px;"]),b=u.f.div.withConfig({displayName:"PoweredBystyled__Text",componentId:"sc-1emxyx4-1"})(["",";line-height:1rem !important;color:",";white-space:pre;"],g.d.RemSize11,(function(e){return e.theme.foundationTheme["txt-black-dark"]})),y={Wrapper:u.f.div.withConfig({displayName:"PoweredBystyled__Wrapper",componentId:"sc-1emxyx4-2"})(["display:flex;justify-content:center;"]),PoweredBy:u.f.div.withConfig({displayName:"PoweredBystyled__PoweredBy",componentId:"sc-1emxyx4-3"})(["display:flex;align-items:center;justify-content:center;width:fit-content;padding:16px 0 8px;cursor:pointer;&:hover ","{color:",";}&:hover ","{&::before{opacity:1;}}"],b,f.a.grey900,h),Icon:h,Text:b};var x=function(e){var t=e.className,n=e.onClick,a=Object(p.a)().translateWithInnerHtml;return r.a.createElement(y.Wrapper,null,r.a.createElement(y.PoweredBy,{className:t,onClick:n},r.a.createElement(y.Icon,{name:"ch-symbol",width:17,height:16,size:[17,16],defaultOpacity:.4}),r.a.createElement(y.Text,null,a("ch.powered_by"))))},C=n(34),v=n.n(C),w=n(43),_=n(21),k=n(285),I=n(1),O=n.n(I),j=n(25),E=n.n(j),N=n(6),T=n.n(N),M=n(18),S=n(1315),z=n(37),L=n(495),W=n(60),A=n(1312),U=n(19),R=n(65),B=n(458),D=14,H={Lounge:u.f.div.withConfig({displayName:"Loungestyled__Lounge",componentId:"u5mrod-0"})(["position:relative;height:100%;overflow-y:",";-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}"],s.a?"auto":"scroll"),Header:Object(u.f)(B.a).withConfig({displayName:"Loungestyled__Header",componentId:"u5mrod-1"})(["width:100%;margin:0 auto;"]),Description:u.f.div.withConfig({displayName:"Loungestyled__Description",componentId:"u5mrod-2"})(["display:flex;padding:0 22px 16px;margin-top:13px;color:",";"," ",""],(function(e){var t;return null===(t=e.theme.foundationTheme)||void 0===t?void 0:t["txt-black-dark"]}),R.o,g.d.RemSize15),Content:u.f.div.withConfig({displayName:"Loungestyled__Content",componentId:"u5mrod-3"})(["position:relative;padding:0 ","px 20px;"],D),EmptyNewChatButton:u.f.div.withConfig({displayName:"Loungestyled__EmptyNewChatButton",componentId:"u5mrod-4"})(["padding-top:14px;"]),ErrorText:u.f.div.withConfig({displayName:"Loungestyled__ErrorText",componentId:"u5mrod-5"})(["padding-left:10px;margin:auto 0;"," color:",";"],g.d.RemSize12,f.a.black40),Refresh:u.f.div.withConfig({displayName:"Loungestyled__Refresh",componentId:"u5mrod-6"})(["font-weight:bold;cursor:pointer;"]),MakeScrollable:u.f.div.withConfig({displayName:"Loungestyled__MakeScrollable",componentId:"u5mrod-7"})(["position:absolute;top:0;bottom:0;left:0;width:1px;height:calc(100% + 1px);opacity:0;"])},P=357,F={Wrapper:u.f.div.withConfig({displayName:"InstagramMediastyled__Wrapper",componentId:"uifx9u-0"})(["display:flex;"]),Img:u.f.img.withConfig({displayName:"InstagramMediastyled__Img",componentId:"uifx9u-1"})(["width:min-content;min-width:",";height:",";object-fit:contain;object-position:center;background-color:",";pointer-events:none;"],Object(U.k)()?"".concat(P,"px"):"calc(100vw - (".concat(D,"px * 2))"),Object(U.k)()?"".concat(P,"px"):"calc(100vw - (".concat(D,"px * 2))"),f.a.black),Video:u.f.video.withConfig({displayName:"InstagramMediastyled__Video",componentId:"uifx9u-2"})(["width:min-content;min-width:",";height:",";object-fit:contain;object-position:center;background-color:",";pointer-events:none;"],Object(U.k)()?"".concat(P,"px"):"calc(100vw - (".concat(D,"px * 2))"),Object(U.k)()?"".concat(P,"px"):"calc(100vw - (".concat(D,"px * 2))"),f.a.black)};var q=function(e){var t=e.media,n=e.post,a=e.postIdx,o=e.childIdx,l=e.isMuted,c=Object(i.useRef)(null),d=Object(A.a)(a);Object(i.useLayoutEffect)((function(){var e=c.current;return e&&d===a&&(e.style.transition="transform 0.3s ease-in-out",e.style.transform="translateX(-".concat(o,"00%)")),function(){e&&(e.style.transition="none",e.style.transform="none")}}),[o,a,d]);var s=Object(i.useCallback)((function(e){return E()(e)||E()(n)?null:e.mediaType===L.a.VIDEO?r.a.createElement(F.Video,{key:e.id,src:e.mediaUrl,poster:e.thumbnailUrl,playsInline:!0,autoPlay:!0,muted:l,loop:!0,preload:"none"}):r.a.createElement(F.Img,{key:e.id,src:e.mediaUrl,alt:e.mediaType})}),[n,l]),p=Object(i.useMemo)((function(){return t?(null==n?void 0:n.mediaType)===L.a.CAROUSEL_ALBUM?null==n||null===(e=n.children)||void 0===e?void 0:v()(a=e.data).call(a,(function(e){return s(e)})):s(t):null;var e,a}),[t,n,s]);return r.a.createElement(F.Wrapper,{ref:c},p)},G=n(476),X=n(32),V=n.n(X),Y=n(1298),$=n(133),J=n(1330),K={Wrapper:Object(u.f)(J.a).withConfig({displayName:"MediaLoaderstyled__Wrapper",componentId:"sc-1c5by05-0"})(["position:relative;height:92px;margin-top:8px;"]),ErrorCard:Object(u.f)(J.a).withConfig({displayName:"MediaLoaderstyled__ErrorCard",componentId:"sc-1c5by05-1"})(["display:flex;flex-direction:row;height:92px;padding:12px;margin:12px 0 12px;box-shadow:0 0 2px 1px ",",0 4px 16px ",",inset 0 0 2px ",";"],f.a.black5,f.a.black15,f.a.white15),ErrorText:u.f.div.withConfig({displayName:"MediaLoaderstyled__ErrorText",componentId:"sc-1c5by05-2"})(["padding-left:10px;margin:auto 0;color:",";",""],f.a.black40,g.d.RemSize13),Refresh:u.f.div.withConfig({displayName:"MediaLoaderstyled__Refresh",componentId:"sc-1c5by05-3"})(["font-weight:bold;cursor:pointer;"])};var Z,Q,ee,te=function(e){var t=e.isFetching,n=e.hasError,a=void 0!==n&&n,o=e.handleClickRefresh,i=void 0===o?V.a:o,l=e.mediaType,c=Object(p.a)().translate;return a?r.a.createElement(K.ErrorCard,null,r.a.createElement(Y.a,{name:"network-error-illust",size:36}),r.a.createElement(K.ErrorText,null,c("ch.lounge.media.error",c("ch.lounge.media.error.".concat(l))),r.a.createElement("br",null),r.a.createElement(K.Refresh,{onClick:i},c("ch.lounge.media.refresh")))):t?r.a.createElement(K.Wrapper,null,r.a.createElement($.b,null)):null},ne=n(1293),ae=T()(Z="calc((100vw - (".concat(D,"px * 2) - (")).call(Z,6,"px * 4)) / 5)"),oe=T()(Q="calc((".concat(373,"px - (").concat(D,"px * 2) - (")).call(Q,6,"px * 4)) / 5)"),ie=Object(U.k)(),re=u.f.div.withConfig({displayName:"Instagramstyled__Wrapper",componentId:"cx0bg2-0"})(["position:relative;margin-top:14px;box-shadow:inset 0 0 2px ",";"],f.a.white15),le=u.f.div.withConfig({displayName:"Instagramstyled__Header",componentId:"cx0bg2-1"})(["position:absolute;top:0;right:0;left:0;display:flex;flex-direction:row;align-items:flex-start;padding:6px;color:white;background:linear-gradient(180deg,"," 0%,transparent 100%);border-radius:","px ","px 0 0;transform:translate3d(0,0,1px);"],f.a.black48,18,18),ce=u.f.div.withConfig({displayName:"Instagramstyled__Text",componentId:"cx0bg2-2"})(["margin-left:4px;",";cursor:pointer;"],g.d.RemSize13),de=u.f.div.withConfig({displayName:"Instagramstyled__Footer",componentId:"cx0bg2-3"})(["position:absolute;right:0;bottom:0;left:0;display:flex;flex-direction:row;align-items:flex-start;padding:6px;color:white;background:linear-gradient(180deg,transparent 0%,"," 100%);border-radius:","px;opacity:",";transition:opacity 0.3s;transform:translate3d(0,0,1px);"],f.a.black48,18,(function(e){return e.showActions?1:0})),se=u.f.div.withConfig({displayName:"Instagramstyled__CountWrapper",componentId:"cx0bg2-4"})(["display:flex;flex:1 0 auto;"]),pe=u.f.div.withConfig({displayName:"Instagramstyled__ActionWrapper",componentId:"cx0bg2-5"})(["display:flex;padding:6px;cursor:pointer;"]),ue=u.f.div.withConfig({displayName:"Instagramstyled__Tooltip",componentId:"cx0bg2-6"})(["display:flex;flex-direction:column;max-width:256px;"]),me={Wrapper:re,Header:le,Text:ce,Footer:de,CountWrapper:se,ActionWrapper:pe,Caption:u.f.div.withConfig({displayName:"Instagramstyled__Caption",componentId:"cx0bg2-7"})(["margin-left:4px;",";"],g.d.RemSize13),Tooltip:ue,TooltipContent:u.f.div.withConfig({displayName:"Instagramstyled__TooltipContent",componentId:"cx0bg2-8"})(["display:-webkit-box;max-height:4.2em;overflow:hidden;line-height:1.4em;text-overflow:ellipsis;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;",""],R.o),Link:u.f.a.withConfig({displayName:"Instagramstyled__Link",componentId:"cx0bg2-9"})(["width:fit-content;color:",";text-decoration:none;"],f.a.cobalt300),MediaWrapper:u.f.div.withConfig({displayName:"Instagramstyled__MediaWrapper",componentId:"cx0bg2-10"})(["position:relative;overflow:hidden;border-radius:","px;",";"],18,Object(ne.c)()),Carousel:u.f.div.withConfig({displayName:"Instagramstyled__Carousel",componentId:"cx0bg2-11"})(["display:flex;"]),PostWrapper:u.f.div.withConfig({displayName:"Instagramstyled__PostWrapper",componentId:"cx0bg2-12"})(["display:flex;flex-direction:row;justify-content:center;"]),Post:u.f.div.withConfig({displayName:"Instagramstyled__Post",componentId:"cx0bg2-13"})(["position:relative;display:flex;align-items:center;justify-content:center;width:",";height:",";margin:6px ","px 0 0;overflow:hidden;cursor:pointer;border-radius:","px;box-shadow:inset 0 0 2px ",";"," &:last-child{margin-right:0;}"],ie?oe:ae,ie?oe:ae,6,18,f.a.white15,(function(e){return e.isSelected&&Object(u.e)(["border:2px solid #5E56F0;box-sizing:border-box;"])})),PostImg:u.f.img.withConfig({displayName:"Instagramstyled__PostImg",componentId:"cx0bg2-14"})(["object-fit:cover;width:",";min-width:",";height:",";min-height:",";"],ie?oe:ae,ie?oe:ae,ie?oe:ae,ie?oe:ae),MediaIcon:u.f.img.withConfig({displayName:"Instagramstyled__MediaIcon",componentId:"cx0bg2-15"})(["position:absolute;top:","px;right:","px;width:","px;height:16px;"],(function(e){return e.isSelected?4:6}),(function(e){return e.isSelected?3:5}),(function(e){return"VIDEO"===e.mediaType?20:16})),Control:u.f.div.withConfig({displayName:"Instagramstyled__Control",componentId:"cx0bg2-16"})(["position:absolute;top:12px;right:","px;display:flex;align-items:center;width:31px;height:24px;color:",";background:",";border-radius:24px;"],(function(e){return e.isAlbum?48:12}),f.a.white,f.a.black40),VolumeIcon:Object(u.f)(m.b).withConfig({displayName:"Instagramstyled__VolumeIcon",componentId:"cx0bg2-17"})(["margin:auto;transform:translate3d(0,0,1px);"]),Index:u.f.div.withConfig({displayName:"Instagramstyled__Index",componentId:"cx0bg2-18"})(["margin:auto;",";"],g.d.RemSize11),ArrowWrapper:u.f.div.withConfig({displayName:"Instagramstyled__ArrowWrapper",componentId:"cx0bg2-19"})(["position:absolute;top:0;display:flex;width:52px;height:100%;",";transform:translate3d(0,0,1px);"],(function(e){return e.isLeft?"left: 0":"right: 0"})),Arrow:u.f.div.withConfig({displayName:"Instagramstyled__Arrow",componentId:"cx0bg2-20"})(["position:relative;width:28px;height:28px;margin:auto;cursor:pointer;background:",";border-radius:50%;box-shadow:0 0 2px 1px ",",0 1px 2px ",",inset 0 0 2px ",";"],f.a.white90,f.a.black5,f.a.black8,f.a.white15),ArrowIcon:Object(u.f)(m.b).withConfig({displayName:"Instagramstyled__ArrowIcon",componentId:"cx0bg2-21"})(["position:absolute;top:6px;left:6px;"])},fe=(ee={},O()(ee,L.a.VIDEO,"https://cf.channel.io/asset/plugin/images/videocam.png"),O()(ee,L.a.CAROUSEL_ALBUM,"https://cf.channel.io/asset/plugin/images/squares-filled.png"),ee);var ge=function(){var e,t,n,a,l=Object(w.c)(),c=Object(S.a)(),d=Object(w.d)(_.a.loungeMediaInstagramSelectors.getLoungeMedia),s=Object(w.d)(_.a.loungeMediaInstagramSelectors.getIsFetching),u=Object(w.d)(_.a.loungeMediaInstagramSelectors.getHasError),f=d.data,g=Object(i.useCallback)((function(){l(M.a.loungeActions.requestGetLoungeMediaInstagram({pluginId:c.id,types:k.a.Instagram}))}),[l,c.id]),h=Object(p.a)().translate,b=Object(i.useRef)(null),y=Object(i.useRef)(0),x=Object(i.useRef)(0),C=Object(i.useRef)(null),I=Object(i.useState)(0),O=o()(I,2),j=O[0],N=O[1],A=Object(i.useState)(0),U=o()(A,2),R=U[0],B=U[1],D=Object(i.useState)(!0),H=o()(D,2),P=H[0],F=H[1],X=Object(i.useState)(!1),V=o()(X,2),Y=V[0],$=V[1],J=Object(i.useState)(!0),K=o()(J,2),Z=K[0],Q=K[1],ee=null!==(e=null===(t=f.get(0))||void 0===t?void 0:t.username)&&void 0!==e?e:"",ne=f,ae=null==ne?void 0:ne.get(j),oe=(null==ae?void 0:ae.mediaType)===L.a.CAROUSEL_ALBUM,ie=null!==(n=null==ae||null===(a=ae.children)||void 0===a?void 0:a.data.length)&&void 0!==n?n:0,re=oe&&0!==R,le=oe&&R!==ie-1,ce=z.a.isMobileDevice(),de=Object(i.useMemo)((function(){var e;return ae&&ae.mediaType===L.a.CAROUSEL_ALBUM?null===(e=ae.children)||void 0===e?void 0:e.data[R]:ae}),[R,ae]),se=Object(i.useCallback)((function(e){return e.mediaType===L.a.VIDEO?e.thumbnailUrl:e.mediaUrl||""}),[]),pe=Object(i.useCallback)((function(e){N(e),B(0),$(!1)}),[]),ue=Object(i.useCallback)((function(){de&&de.mediaType===L.a.VIDEO&&F((function(e){return!e}))}),[de]),ge=Object(i.useCallback)((function(){B((function(e){return e-1}))}),[]),he=Object(i.useCallback)((function(){B((function(e){return e+1}))}),[]),be=Object(i.useCallback)((function(){E()(ae)||window.open(ae.permalink)}),[ae]),ye=Object(i.useCallback)((function(){$(!1)}),[]),xe=Object(i.useCallback)((function(){ce||(Q(!0),ye())}),[ye,ce]),Ce=Object(i.useCallback)((function(){ce||(Q(!1),ye())}),[ye,ce]),ve=Object(i.useCallback)((function(){$(!0),Q(!0)}),[]),we=Object(i.useCallback)((function(){ce&&$(!1)}),[ce]),_e=Object(i.useCallback)((function(e){(null==ae?void 0:ae.mediaType)===L.a.CAROUSEL_ALBUM&&(x.current=e.touches[0].clientX)}),[ae]),ke=Object(i.useCallback)((function(e){y.current=e.touches[0].clientX}),[]),Ie=Object(i.useCallback)((function(e){if((null==ae?void 0:ae.mediaType)===L.a.CAROUSEL_ALBUM&&0!==x.current){var t=y.current-x.current>50,n=y.current-x.current<-50;e.preventDefault(),le&&t?B(R+1):re&&n&&B(R-1),x.current=0}}),[R,ae,re,le]),Oe=Object(i.useCallback)((function(){ce||$((function(e){return!e}))}),[ce]),je=Object(i.useCallback)((function(){$((function(e){return!e}))}),[]),Ee=Object(i.useMemo)((function(){var e;return oe&&null!=ae&&ae.children?r.a.createElement(me.Control,null,r.a.createElement(me.Index,null,de&&T()(e="".concat(R+1,"/")).call(e,ie))):null}),[R,de,ae,ie,oe]),Ne=Object(i.useMemo)((function(){return r.a.createElement(me.Header,null,r.a.createElement(G.a,{disabled:ce,placement:W.a.TOP_LEFT,content:h("ch.instagram.open_instagram"),marginY:6},r.a.createElement(me.ActionWrapper,{onClick:be},r.a.createElement(m.b,{name:"instagram",size:m.a.Small,defaultOpacity:1}),r.a.createElement(me.Text,null,ee))),Ee)}),[ce,h,be,ee,Ee]),Te=Object(i.useCallback)((function(){var e=C.current&&C.current.clientHeight<C.current.scrollHeight;return ae?e?r.a.createElement(me.Tooltip,{onMouseEnter:ve,onMouseLeave:ye},r.a.createElement(me.TooltipContent,{ref:C},ae.caption),r.a.createElement(me.Link,{href:null==ae?void 0:ae.permalink,target:"_blank",rel:"noopener noreferrer"},h("ch.instagram.caption.see_more"))):r.a.createElement(me.Tooltip,{onMouseEnter:ve,onMouseLeave:ye},r.a.createElement(me.TooltipContent,{ref:C},ae.caption)):null}),[ae,ye,ve,h]),Me=Object(i.useMemo)((function(){var e={visibility:Y?"visible":"hidden",position:"absolute",bottom:"40px",right:"6px"};return null!=ae&&ae.caption?r.a.createElement(G.a,{container:b.current||void 0,isShow:!0,overlayStyle:e,placement:W.a.TOP_RIGHT,content:Te(),marginY:6},r.a.createElement(me.ActionWrapper,{onMouseEnter:ve,onMouseLeave:we,onClick:Oe,onTouchEnd:je},r.a.createElement(m.b,{size:m.a.XSmall,name:"note",defaultOpacity:1}),r.a.createElement(me.Caption,null,h("ch.instagram.caption")))):null}),[ae,Oe,we,ve,Te,Y,je,h]),Se=Object(i.useMemo)((function(){if(E()(ae))return null;var e=new Intl.NumberFormat;return r.a.createElement(me.Footer,{isMobile:ce,showActions:Z,onMouseEnter:xe,onMouseLeave:Ce},r.a.createElement(me.CountWrapper,null,r.a.createElement(G.a,{disabled:ce,placement:W.a.TOP_LEFT,content:h("ch.instagram.open_instagram"),marginY:6},r.a.createElement(me.ActionWrapper,{onClick:be,onMouseEnter:ye},r.a.createElement(m.b,{name:"heart",size:m.a.XSmall,defaultOpacity:1}),r.a.createElement(me.Text,null,e.format(ae.likeCount)))),r.a.createElement(G.a,{disabled:ce,placement:W.a.TOP_LEFT,content:h("ch.instagram.open_instagram"),marginY:6},r.a.createElement(me.ActionWrapper,{onClick:be,onMouseEnter:ye},r.a.createElement(m.b,{name:"chat-bubble",size:m.a.XSmall,defaultOpacity:1}),r.a.createElement(me.Text,null,e.format(ae.commentsCount))))),Me)}),[h,ae,Z,ce,xe,Ce,be,ye,Me]),ze=Object(i.useMemo)((function(){return(null==de?void 0:de.mediaType)!==L.a.VIDEO?null:r.a.createElement(me.Control,{isAlbum:oe,onClick:ue},r.a.createElement(me.VolumeIcon,{name:P?"volume-off-filled":"volume-up-filled",size:m.a.XSmall,defaultOpacity:1}))}),[de,ue,oe,P]),Le=Object(i.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,re&&Z&&r.a.createElement(me.ArrowWrapper,{isLeft:!0,onMouseEnter:xe,onMouseLeave:Ce},r.a.createElement(me.Arrow,{onClick:ge},r.a.createElement(me.ArrowIcon,{name:"chevron-left",size:m.a.XSmall,defaultOpacity:1}))),le&&Z&&r.a.createElement(me.ArrowWrapper,{onMouseEnter:xe,onMouseLeave:Ce},r.a.createElement(me.Arrow,{onClick:he},r.a.createElement(me.ArrowIcon,{name:"chevron-right",size:m.a.XSmall,defaultOpacity:1}))))}),[ge,he,xe,Ce,Z,re,le]),We=Object(i.useMemo)((function(){return ne&&ne.size<=1?null:r.a.createElement(me.PostWrapper,null,null==ne?void 0:v()(ne).call(ne,(function(e,t){return r.a.createElement(me.Post,{key:e.getKey(),onClick:function(){return pe(t)},isSelected:t===j},r.a.createElement(me.PostImg,{src:se(e),alt:e.mediaType}),e.mediaType!==L.a.IMAGE&&r.a.createElement(me.MediaIcon,{src:fe[e.mediaType],isSelected:t===j,mediaType:e.mediaType}))})))}),[ne,se,pe,j]);return s||u?r.a.createElement(te,{isFetching:s,hasError:u,handleClickRefresh:g,mediaType:k.a.Instagram}):E()(ae)||E()(de)?null:r.a.createElement(me.Wrapper,null,r.a.createElement(me.MediaWrapper,null,r.a.createElement("div",{ref:b,onMouseEnter:xe,onMouseLeave:Ce,onTouchStart:ke,onTouchMove:_e,onTouchEnd:Ie},r.a.createElement(q,{media:de,post:ae,postIdx:j,childIdx:R,isMuted:P})),Ne,ze,Le,Se),We)},he={MediaLoaderWrapper:Object(u.f)(J.a).withConfig({displayName:"LoungeMediastyled__MediaLoaderWrapper",componentId:"sc-1ooe4kq-0"})(["position:relative;height:60px;margin:12px 0 80px;"]),MediaWrapper:u.f.div.withConfig({displayName:"LoungeMediastyled__MediaWrapper",componentId:"sc-1ooe4kq-1"})(["min-height:130px;"]),ErrorCard:Object(u.f)(J.a).withConfig({displayName:"LoungeMediastyled__ErrorCard",componentId:"sc-1ooe4kq-2"})(["display:flex;flex-direction:row;padding:12px;margin:12px 0 12px;box-shadow:0 0 2px 1px ",",0 4px 16px ",",inset 0 0 2px ",";"],f.a.black5,f.a.black15,f.a.white15),ErrorText:u.f.div.withConfig({displayName:"LoungeMediastyled__ErrorText",componentId:"sc-1ooe4kq-3"})(["padding-left:10px;margin:auto 0;"," color:",";"],g.d.RemSize12,f.a.black40),Refresh:u.f.div.withConfig({displayName:"LoungeMediastyled__Refresh",componentId:"sc-1ooe4kq-4"})(["font-weight:bold;cursor:pointer;"])};var be=function(){var e=Object(w.d)(_.a.loungeSelectors.getLoungeMediaTypes),t=Object(i.useMemo)((function(){return v()(e).call(e,(function(e){return e===k.a.Instagram?r.a.createElement(ge,{key:"app-media-".concat(e)}):null}))}),[e]);return e.isEmpty()?null:r.a.createElement(he.MediaWrapper,null,t)},ye=n(1306),xe=n(174),Ce=n(88),ve=n(302),we=n(168),_e=n(470),ke=n(1344),Ie=n(1345),Oe=n(135),je=u.f.div.withConfig({displayName:"LoungeCardstyled__CardWrapper",componentId:"t3ffck-0"})(["padding:",";overflow:hidden;background-color:",";border-radius:",";box-shadow:0 2px 16px 1px rgba(0,0,0,0.1);& + &{margin-top:14px;}",""],(function(e){return e.hasHeader?"12px 0 6px":"6px 0"}),f.a.white,Object(Oe.g)(18,"px"),(function(e){return e.interpolation})),Ee=u.f.div.withConfig({displayName:"LoungeCardstyled__CardHeader",componentId:"t3ffck-1"})(["display:flex;padding:0 14px 2px 14px;"]),Ne=u.f.div.withConfig({displayName:"LoungeCardstyled__Title",componentId:"t3ffck-2"})(["display:flex;align-items:center;"," color:",";"],g.d.RemSize13,f.a.txt_black_dark),Te={CardWrapper:je,CardHeader:Ee,Actions:u.f.div.withConfig({displayName:"LoungeCardstyled__Actions",componentId:"t3ffck-3"})(["display:flex;margin-left:auto;"," color:",";& >:not(:first-child){margin-left:4px;}"],g.d.RemSize13,(function(e){return e.theme.foundationTheme["txt-black-darker"]})),Title:Ne};var Me=function(e){var t=e.title,n=e.action,a=e.children,o=e.style,l=e.className,c=e.interpolation,d=e.onClick,s=void 0===d?V.a:d,p=!(E()(t)&&E()(n)),u=Object(i.useMemo)((function(){return p?r.a.createElement(Te.CardHeader,null,!E()(t)&&r.a.createElement(Te.Title,null,t),!E()(n)&&r.a.createElement(Te.Actions,null,n)):null}),[p,n,t]);return r.a.createElement(Te.CardWrapper,{interpolation:c,className:l,style:o,onClick:s,hasHeader:p},u,a)},Se={UnreadText:u.f.div.withConfig({displayName:"ChatListCardstyled__UnreadText",componentId:"sc-1k74aq3-0"})(["display:flex;align-items:center;"," color:",";cursor:pointer;"," &:hover{font-weight:bold;}"],g.d.RemSize13,f.a.txt_black_darkest,(function(e){return e.bold&&Object(u.e)(["font-weight:bold;"])})),UnreadCount:u.f.div.withConfig({displayName:"ChatListCardstyled__UnreadCount",componentId:"sc-1k74aq3-1"})(["font-weight:bold;color:",";",""],f.a.bgtxt_red_normal,g.d.RemSize13),SVGIcon:Object(u.f)(m.b).withConfig({displayName:"ChatListCardstyled__SVGIcon",componentId:"sc-1k74aq3-2"})(["&:hover{&::before{opacity:0.6;}}"]),TitleWrapper:u.f.div.withConfig({displayName:"ChatListCardstyled__TitleWrapper",componentId:"sc-1k74aq3-3"})(["display:flex;align-items:center;",";"],(function(e){return e.clickable&&"\n    font-weight: bold;\n    cursor: pointer;\n  "})),Dot:u.f.div.withConfig({displayName:"ChatListCardstyled__Dot",componentId:"sc-1k74aq3-4"})(["width:6px;height:6px;margin-left:4px;background-color:",";border-radius:50%;"],f.a.bgtxt_red_normal),ReadAllUserChatWrapper:u.f.div.withConfig({displayName:"ChatListCardstyled__ReadAllUserChatWrapper",componentId:"sc-1k74aq3-5"})(["display:flex;cursor:pointer;&:hover{color:",";>::before{opacity:0.6;}}"],(function(e){return e.theme.foundationTheme["txt-black-darkest"]}))};function ze(){var e=Object(Ce.g)(),t=Object(w.c)(),n=Object(p.a)().translate,a=Object(w.d)(_.a.userChatsSelectors.getFilteredUserChats),o=Object(w.d)(_.a.userChatsSelectors.getLatestProceedingUserChats),l=Object(w.d)(_.a.userChatsSelectors.getUnreadExceptLastProceeding),c=Object(w.d)(_.a.userSelectors.getUser),d=Object(i.useMemo)((function(){return l>0}),[l]),s=a.size-o.size,u=Object(i.useCallback)((function(){s>0&&e.push("/user-chats")}),[e,s]),f=Object(i.useCallback)((function(e){t(M.a.uiActions.goUserChat({userChatId:e.id}))}),[t]),g=Object(i.useCallback)((function(e){t(M.a.userChatActions.requestLeaveUserChat({userChatId:e}))}),[t]),h=Object(i.useCallback)((function(e){return r.a.createElement(ke.a,{key:e.id,userChat:e,onClick:f,onLeave:g})}),[f,g]),b=Object(i.useMemo)((function(){return s<=0?null:r.a.createElement(Se.UnreadText,{"data-ch-testid":"unread-chat-button",bold:!!c.unread,onClick:u},n("ch.lounge.card.chat_list.unread_count",Object(_e.c)(c.unread)),r.a.createElement(Se.Dot,null))}),[u,s,n,c.unread]),y=Object(i.useMemo)((function(){return s>0&&d?b:r.a.createElement(Se.TitleWrapper,{clickable:s>0,onClick:u},n("ch.lounge.card.chat_list.title"),s>0?r.a.createElement(Se.SVGIcon,{name:"chevron-right",width:14,height:14,size:m.a.XSmall}):null)}),[b,u,s,d,n]),x=Object(i.useMemo)((function(){return c.unread<=0?null:r.a.createElement(Ie.a,null)}),[c.unread]);return o.size<=0?null:r.a.createElement(Me,{title:y,action:x},v()(o).call(o,h))}var Le=Object(xe.d)(Object(we.a)({initializer:function(e,t,n){return!(e||!ve.b.isEmpty())&&(n(M.a.emojiActions.requestGetEmojiInfo()),!0)}}))(r.a.memo(ze)),We=n(1311),Ae=n(1294),Ue=n(97),Re=n(1329),Be=n(10),De=n.n(Be),He=n(121),Pe=n.n(He),Fe=n(601),qe=n.n(Fe),Ge=n(301),Xe=n(478),Ve=n(153),Ye=n(298),$e=u.f.div.withConfig({displayName:"DetailOperationTimestyled__Wrapper",componentId:"sc-3hh13z-0"})(["max-width:254px;"," color:",";white-space:pre;border-radius:6px;"],g.d.RemSize15,f.a.white),Je=u.f.div.withConfig({displayName:"DetailOperationTimestyled__Timezone",componentId:"sc-3hh13z-1"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Ke=Object(u.f)(m.b).withConfig({displayName:"DetailOperationTimestyled__StatusIcon",componentId:"sc-3hh13z-2"})(["margin-right:2px;"]),Ze=Object(u.f)(m.b).withConfig({displayName:"DetailOperationTimestyled__ChevronRightIcon",componentId:"sc-3hh13z-3"})(["margin-left:2px;cursor:pointer;"]),Qe=u.f.div.withConfig({displayName:"DetailOperationTimestyled__DescriptionWrapper",componentId:"sc-3hh13z-4"})(["width:100%;"]),et=u.f.div.withConfig({displayName:"DetailOperationTimestyled__ContentWrapper",componentId:"sc-3hh13z-5"})(["display:flex;align-items:center;justify-content:center;width:max-content;margin:0 auto 9px auto;color:",";"," ",""],f.a.txt_black_darker,g.d.RemSize11,(function(e){var t,n;return e.withTooltip&&T()(t=T()(n="\n    cursor: pointer;\n    &:hover {\n      color: ".concat(f.a.txt_black_darkest,";\n\n      ")).call(n,Ke," {\n        &::before {\n          opacity: 1;\n      }\n\n      ")).call(t,Ze," {\n        &::before {\n          opacity: 1;\n      }\n    }\n  ")})),tt={Wrapper:$e,Timezone:Je,StatusIcon:Ke,ChevronRightIcon:Ze,DescriptionWrapper:Qe,ContentWrapper:et};var nt=function(){var e=Object(c.a)(),t=Object(p.a)().translate,n=Object(Ge.a)(!1),a=o()(n,3),l=a[0],d=a[1],s=a[2],u=Object(Xe.a)(e),m=Object(w.d)(_.a.supportBotSelectors.getSupportBot),f=e.isOperationTimeScheduling()&&!e.isInOperation(),g=Object(i.useMemo)((function(){return r.a.createElement(tt.Wrapper,null,function(e,t){var n="";if(e.isOperationTimeScheduling()){var a,o=e.operationTimeRanges,i={};if(!Array.isArray(o))return null;o.forEach((function(e){var t,n=e.dayOfWeeks,a=e.from,o=e.to,r=T()(t="".concat(Object(Ve.g)(a)," ~ ")).call(t,Object(Ve.g)(o));i[r]=i[r]||{key:r,indexes:[]},n.forEach((function(e){i[r].indexes.push(Object(Ve.d)(e))}))})),De()(i).forEach((function(e){var t;return Pe()(t=i[e].indexes).call(t,(function(e,t){return e-t}))})),Pe()(a=qe()(i)).call(a,(function(e,t){return e.indexes.join("")<t.indexes.join("")?-1:0})).forEach((function(e,a){var o,i,r;n+=T()(o=T()(i="".concat(0===a?"":"\n\n")).call(i,v()(r=e.indexes).call(r,(function(e){return t("ch.out_of_work.".concat(Object(Ve.q)(e)))})).join(", "),"\n")).call(o,e.key)}))}return n+="\n\n"}(e,t),r.a.createElement(tt.Timezone,null,"Timezone: ".concat(e.timeZone)))}),[e,t]),h=Object(i.useMemo)((function(){return e.isNotInOperationAndDisabled()&&e.isOperationTimeScheduling()&&m.isEmpty()?r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,t("ch.show_working_times")),r.a.createElement(tt.ChevronRightIcon,{name:"chevron-right",size:14,defaultOpacity:1})):r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.StatusIcon,{name:e.getStatusIconName(),size:14,defaultOpacity:1}),r.a.createElement("div",null,!e.isInOperation()&&t("ch.chat.expect_response_delay.out_of_working"),u&&!e.isInOperation()?" ãƒ» ":"",u))}),[e,u,t,m]);return e.isNotInOperationAndDisabled()&&!e.isOperationTimeScheduling()&&m.isEmpty()?null:r.a.createElement(G.a,{content:g,placement:W.a.BOTTOM_RIGHT,marginX:80,marginY:7,rootClose:!0,trigger:Ye.a.CLICK,isShow:l&&f,onHide:s},r.a.createElement(tt.DescriptionWrapper,null,r.a.createElement(tt.ContentWrapper,{withTooltip:f,onClick:d},h)))},at=n(493),ot=n.n(at),it=n(469),rt=u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__Gutter",componentId:"sc-2xydgz-0"})(["padding:8px 0 0 6px;margin-right:8px;"]),lt=u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__Content",componentId:"sc-2xydgz-1"})(["flex-basis:0;flex-grow:1;flex-shrink:1;min-width:180px;padding:8px 0 12px;"," color:",";"],g.d.RemSize15,f.a.txt_black_darkest),ct=u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__Body",componentId:"sc-2xydgz-2"})([""," display:-webkit-box;max-height:","rem;padding-right:40px;overflow:hidden;line-height:","rem;text-overflow:ellipsis;"," -webkit-box-orient:vertical;-webkit-line-clamp:",";a{color:",";text-decoration:none;&:hover{text-decoration:underline;}}"],g.d.RemSize15,(function(e){return g.a.Lh15*(e.minimize?2:8)}),g.a.Lh15,R.o,(function(e){return e.minimize?2:8}),f.a.cobalt400),dt=u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__DisabledBody",componentId:"sc-2xydgz-3"})(["display:flex;flex-direction:column;"]),st=u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__DisabledText",componentId:"sc-2xydgz-4"})(["font-weight:500;"," color:",";"],g.d.RemSize13,f.a.black60),pt=u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__Head",componentId:"sc-2xydgz-5"})(["overflow:hidden;font-weight:bold;text-overflow:ellipsis;white-space:nowrap;",""],g.d.RemSize13),ut={Wrapper:u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__Wrapper",componentId:"sc-2xydgz-6"})(["display:flex;margin:0 6px;cursor:pointer;border-radius:12px;transition:background-color 0.2s ease;",""],!z.a.isMobileDevice()&&Object(u.e)(["&:hover{background-color:",";}"],(function(e){return e.theme.foundationTheme["bg-black-lightest"]}))),Gutter:rt,Content:lt,Body:ct,DisabledBody:dt,DisabledText:st,Head:pt,ErrorIconWrapper:u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__ErrorIconWrapper",componentId:"sc-2xydgz-7"})(["display:flex;flex-direction:row;align-items:flex-start;padding:8px;background-color:",";border-radius:15px;"],f.a.bgtxt_yellow_lighter),OperationTimeText:u.f.div.withConfig({displayName:"WelcomeUserChatItemstyled__OperationTimeText",componentId:"sc-2xydgz-8"})(["margin-right:2px;"," font-weight:bold;color:",";"],g.d.RemSize11,f.a.black60)};function mt(e){var t,n=e.minimize,a=void 0!==n&&n,o=e.disabled,l=void 0!==o&&o,d=e.avatarUrl,s=e.name,u=e.user,f=e.welcomeMessage,g=e.onClick,h=Object(p.a)().translate,b=Object(c.a)(),y=null!==(t=Object(Xe.a)(b))&&void 0!==t?t:h("ch.message_input.disabled.new_chat"),x=Object(i.useMemo)((function(){var e,t={user:ot()(u,"profile")};return v()(e=f.blocks).call(e,(function(e,n){return"text"===e.type?r.a.createElement(r.a.Fragment,{key:"welcomeMessageBlock-".concat(n)},Object(ye.b)(e.value,{dictionary:t,minimize:a,withoutReplaceMultiline:!0}),r.a.createElement("br",null)):null}))}),[a,u,f.blocks]),C=Object(i.useMemo)((function(){return l?r.a.createElement(ut.DisabledBody,null,r.a.createElement(ut.DisabledText,null,h("ch.chat.expect_response_delay.out_of_working")),r.a.createElement("div",null,y)):r.a.createElement(r.a.Fragment,null,r.a.createElement(ut.Head,null,s),r.a.createElement(ut.Body,{minimize:a},x))}),[y,l,x,a,s,h]),w=Object(i.useMemo)((function(){return l?r.a.createElement(ut.ErrorIconWrapper,null,r.a.createElement(m.b,{size:m.a.Small,width:20,height:20,name:"chat-error-filled",defaultOpacity:1})):r.a.createElement(it.a,{size:36,url:d})}),[d,l]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ut.Wrapper,{onClick:g},r.a.createElement(ut.Gutter,null,w),r.a.createElement(ut.Content,null,C)))}var ft=Object(i.memo)(mt),gt={NewButtonWrapper:u.f.div.withConfig({displayName:"NewChatCardstyled__NewButtonWrapper",componentId:"sc-3t58vj-0"})(["display:flex;justify-content:center;margin:6px 14px 6px 14px;"]),OperationTimeWrapper:u.f.div.withConfig({displayName:"NewChatCardstyled__OperationTimeWrapper",componentId:"sc-3t58vj-1"})(["display:flex;justify-content:center;",";color:",";cursor:pointer;&:hover{color:",";}"],g.d.RemSize11,f.a.txt_black_darker,f.a.txt_black_darkest)};var ht=Object(xe.d)(Object(we.a)({initializer:function(e,t,n){return!(e||!ve.b.isEmpty())&&(n(M.a.emojiActions.requestGetEmojiInfo()),!0)}}))((function(){var e=Object(w.c)(),t=Object(c.a)(),n=Object(We.a)(),a=Object(S.a)(),o=Object(w.d)(_.a.userChatsSelectors.getLatestProceedingUserChats),l=Object(w.d)(_.a.supportBotSelectors.getStep),d=Object(w.d)(_.a.supportBotSelectors.getSupportBot),s=Object(w.d)(_.a.supportBotSelectors.getProperBotProfile),p=Object(Ae.a)("person")(s),u=p.avatarUrl,m=p.name,f=!o.isEmpty(),g=t.isInOperation()||!t.isInOperation()&&t.isAwayActive()||!d.isEmpty(),h=Object(i.useCallback)((function(){e(M.a.uiActions.goNewLocalUserChat())}),[e]),b=Object(i.useMemo)((function(){return l.isEmpty()?new Ue.a(a.getWelcomeMessageObject(n.language)):new Ue.a(l.message)}),[a,l,n.language]),y=Object(i.useMemo)((function(){return r.a.createElement(gt.NewButtonWrapper,null,r.a.createElement(Re.a,{secondary:f,disabled:!g,onClick:h}))}),[f,g,h]);return r.a.createElement(Me,null,r.a.createElement(ft,{minimize:f,disabled:!g,avatarUrl:u,name:m,user:n,welcomeMessage:b,onClick:h}),y,r.a.createElement(nt,null))})),bt=n(143),yt=n.n(bt),xt=n(20),Ct=n.n(xt),vt=n(621),wt=n.n(vt),_t=n(51),kt=n.n(_t),It=n(173),Ot=n(92),jt=u.f.a.withConfig({displayName:"IntegrationCardstyled__AvatarLink",componentId:"ikg1gf-0"})(["display:block;cursor:pointer;background:",";border-radius:14px;&:not(:first-child){margin-left:8px;}"],f.a.bg_black_lighter),Et=Object(u.f)(it.a).withConfig({displayName:"IntegrationCardstyled__Avatar",componentId:"ikg1gf-1"})(["transition:transform 0.1s ease-out;",""],(function(e){return!e.disableTransform&&Object(u.e)(["&:hover{transform:scale(1.1);}"])})),Nt=u.f.div.withConfig({displayName:"IntegrationCardstyled__ToolTipContent",componentId:"ikg1gf-2"})(["max-width:210px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"]),Tt=u.f.div.withConfig({displayName:"IntegrationCardstyled__IconsWrapper",componentId:"ikg1gf-3"})(["display:flex;margin:auto 0;"]),Mt=Object(u.f)(Me).withConfig({displayName:"IntegrationCardstyled__LoungeCard",componentId:"ikg1gf-4"})(["display:flex;flex-direction:row;align-content:center;height:60px;padding:0 14px;"]),St=u.f.div.withConfig({displayName:"IntegrationCardstyled__Title",componentId:"ikg1gf-5"})(["display:flex;flex:1;margin:auto 0;font-weight:bold;",";color:",";"],g.d.RemSize13,f.a.txt_black_dark),zt=u.f.div.withConfig({displayName:"IntegrationCardstyled__Background",componentId:"ikg1gf-6"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:1;touch-action:none;background:",";"],f.a.bgtxt_absolute_black_lightest),Lt=Object(u.g)(["from{transform:translateY(100%);}to{transform:translate(0);}"]),Wt={Avatar:Et,AvatarLink:jt,ToolTipContent:Nt,IconsWrapper:Tt,LoungeCard:Mt,Title:St,Background:zt,Overlay:u.f.div.withConfig({displayName:"IntegrationCardstyled__Overlay",componentId:"ikg1gf-7"})(["position:absolute;right:0;bottom:0;left:0;padding:16px 16px 40px 16px;background:",";border-radius:30px 30px 0 0;box-shadow:0 -4px 12px rgba(0,0,0,0.05);animation:"," 0.3s ease;"],f.a.white,Lt),Header:u.f.div.withConfig({displayName:"IntegrationCardstyled__Header",componentId:"ikg1gf-8"})(["display:flex;flex-direction:row;"]),CloseIcon:u.f.div.withConfig({displayName:"IntegrationCardstyled__CloseIcon",componentId:"ikg1gf-9"})(["display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:",";border-radius:8px;"],f.a.bg_black_lighter),OverlayContent:u.f.div.withConfig({displayName:"IntegrationCardstyled__OverlayContent",componentId:"ikg1gf-10"})(["display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;"]),IntegratedIcon:u.f.a.withConfig({displayName:"IntegrationCardstyled__IntegratedIcon",componentId:"ikg1gf-11"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;width:84px;margin-top:24px;",";font-weight:bold;color:",";text-decoration:none;cursor:pointer;"],g.d.RemSize13,f.a.txt_black_dark),IntegrationName:u.f.div.withConfig({displayName:"IntegrationCardstyled__IntegrationName",componentId:"ikg1gf-12"})(["margin-top:12px;"])};function At(e,t){return e.pluginTextI18n[t]||e.pluginTextI18n.text}function Ut(){var e=Object(c.a)(),t=Object(p.a)().translate,n=Object(Ge.a)(),a=o()(n,3),l=a[0],d=a[1],f=a[2],g=Object(u.h)().foundationTheme,h=Object(w.d)(_.a.channelSelectors.getAppMessengers),b=Object(w.d)(_.a.channelSelectors.getPhoneNumber),y=Object(w.d)(_.a.geoSelectors.getLocale),x=Object(w.d)(_.a.loadingSelectors.integrationCard),C=Object(i.useMemo)((function(){return v()(h).call(h,(function(e){return{key:e.name,tooltip:At(e,y),iconUrl:e.getIconUrl(),href:e.$deepLinkUri,text:At(e,y),onClick:function(t){t.preventDefault(),s.c?window.open(e.$deepLinkUri):window.open(e.$deepLinkUri,"_blank","noopener,noreferrer")}}})).toArray()}),[h,y]),k=Object(i.useMemo)((function(){return b.isEmpty()?null:{key:"phone",tooltip:t("ch.integrations.phone.tooltip",b.international),icon:"integration-phone",href:"tel:".concat(b.e164),text:t("ch.integrations.phone.text"),onClick:V.a}}),[b,t]),I=Object(i.useMemo)((function(){var e;return wt()(T()(e=[]).call(e,yt()(C),[k]))}),[C,k]),O=Object(i.useMemo)((function(){return I.length>3?kt()(I).call(I,0,2):I}),[I]),j=Object(i.useMemo)((function(){return r.a.createElement(Wt.IconsWrapper,null,v()(O).call(O,(function(e){return r.a.createElement(G.a,{key:e.key,content:r.a.createElement(Wt.ToolTipContent,null,e.tooltip),placement:W.a.LEFT,marginX:8,disabled:Ct()(e.tooltip)||z.a.isTouchableDevice()},r.a.createElement(Wt.AvatarLink,{onClick:e.onClick,href:e.href,target:"_blank"},r.a.createElement(Wt.Avatar,{size:36,url:Object(It.c)(e.icon,e.iconUrl),disableTransform:z.a.isTouchableDevice(),backgroundColor:g["bg-black-lighter"]})))})),I.length>3&&r.a.createElement(Wt.AvatarLink,{onClick:d},r.a.createElement(Y.a,{name:"more",width:36,height:36,size:m.a.Normal})))}),[I.length,O,g,d]),E=Object(i.useMemo)((function(){return l?r.a.createElement(Wt.Background,{onClick:f},r.a.createElement(Wt.Overlay,null,r.a.createElement(Wt.Header,null,r.a.createElement(Wt.Title,null,t("ch.lounge.card.integrations.title")),r.a.createElement(Wt.CloseIcon,null,r.a.createElement(Ot.a,{name:"cancel",size:m.a.XSmall}))),r.a.createElement(Wt.OverlayContent,null,v()(I).call(I,(function(e){return r.a.createElement(Wt.IntegratedIcon,{onClick:e.onClick,href:e.href,target:"_blank"},r.a.createElement(Wt.Avatar,{size:54,url:Object(It.c)(e.icon,e.iconUrl),disableTransform:z.a.isTouchableDevice(),backgroundColor:g["bg-black-lighter"]}),r.a.createElement(Wt.IntegrationName,null,e.text))}))))):null}),[f,I,l,g,t]);return I.length<=0||e.hideAppMessenger?null:x?r.a.createElement(te,{isFetching:x}):r.a.createElement(Wt.LoungeCard,null,r.a.createElement(Wt.Title,null,t("ch.lounge.card.integrations.title")),j,E)}var Rt=r.a.memo(Ut);t.default=function(){var e=Object(i.useState)(!1),t=o()(e,2),n=t[0],a=t[1],p=Object(i.useRef)(null),u=Object(i.useRef)(0),m=Object(i.useRef)(!1),f=Object(c.a)(),g=Object(d.a)(),h=Object(i.useCallback)((function(){u.current>96&&!n&&a(!0),u.current<=96&&n&&a(!1),m.current=!1}),[n]),b=Object(i.useCallback)((function(e){var t=e.target.scrollTop;u.current=t,m.current||(window.requestAnimationFrame(h),m.current=!0)}),[h]),y=Object(i.useCallback)((function(){window.open(f.getPoweredByURL(),"_blank")}),[f]);return r.a.createElement(H.Lounge,{ref:p,onScroll:b,"data-ch-testid":"lounge"},r.a.createElement(H.Header,{showCloseIconBackground:n,channelName:f.getName(g),channelAvatarUrl:f.getAvatarUrl()}),r.a.createElement(H.Description,null,Object(ye.a)(f.getDescription(g))),r.a.createElement(H.Content,null,r.a.createElement(Le,null),r.a.createElement(ht,null),f.isNotInOperationAndDisabled()||r.a.createElement(Rt,null),r.a.createElement(be,null),f.shouldShowPoweredBy()&&r.a.createElement(x,{onClick:y})),(s.d||z.a.isAppleTablet())&&!l.a.isBodyScrollMode()&&r.a.createElement(H.MakeScrollable,null))}}}]);